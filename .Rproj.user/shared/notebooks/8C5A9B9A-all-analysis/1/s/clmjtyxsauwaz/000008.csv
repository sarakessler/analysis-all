"0","table(as.factor(d.raw.rep$language))
"
"1","
"
"1","         e "
"1","       eng "
"1","   english "
"1","  english  "
"1","   englsih "
"1","  filipino "
"1","    french "
"1","indonesian "
"1","  mandarin "
"1","       yes "
"1","
"
"1","       150 "
"1","        50 "
"1","      6800 "
"1","       200 "
"1","        50 "
"1","        50 "
"1","        50 "
"1","        50 "
"1","        50 "
"1","        50 "
"1","
"
"0","for (i in 1:length(d.raw.rep$language)) {"
"0","   if (d.raw.rep$language[i] == ""ebglish"" & (!is.na(d.raw.rep$language[i]))){"
"0","   d.raw.rep$language[i] = ""english"""
"0","   }"
"0","}"
"0","num_trials = 48"
"0","#filters out non native speakers, screens under 12 inches, people with too many non-consecutive or no endpoint trials, and all non-consecutive, no endpoint or wrong endpoint trials."
"0","d.rep <- filter(d.raw.rep, prototype_status != ""na"") %>%"
"0","  filter(as.numeric(screen_size) >= 12) %>%"
"0","  filter(str_detect(language, 'eng')) %>%"
"0","  select(-language) %>%"
"0","  group_by(subid) %>%"
"0","  mutate(perc_non_consec = sum(non_consec)/num_trials,"
"0","            perc_no_endpoint = (length(is_endpoint)-sum(is_endpoint))/num_trials,"
"0","         perc_good_endpoint = (sum(good_endpoint))/num_trials) %>%"
"0","  filter(perc_non_consec < .1) %>%"
"0","  filter(perc_good_endpoint >.9) %>%"
"0","  filter(is_endpoint == TRUE) %>%"
"0","  filter(good_endpoint == TRUE) %>%"
"0","  filter(non_consec == FALSE)"
"0","for (i in 1:length(d.rep$none_checked)) {"
"0","   if (d.rep$none_checked[i] == TRUE & (!is.na(d.rep$none_checked[i]))){"
"0","   d.rep$num_checked[i] = 0"
"0","   }"
"0"," }"
